<!DOCTYPE html>

<html lang="en-GB">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>XSS</title>

		<link rel="stylesheet" type="text/css" href="styles.css" />


	</head>

	<body class="home">
		<div id="container">
				
        <div class="body_padded">
            <h1>Computer Systems Security Term Project</h1>
            <h2>Reflected Cross Site Scripting (XSS)</h2>

            <div class="vulnerable_code_area">
                <form name="XSS" action="/search" method="GET">
                    <p>
                        Search for something?
                        <input type="text" name="keyword" id="keyword">
                        <br> <br>
                        <input type="submit" value="Submit">
                        <br> 
                        
                    </p>

                </form>
                <div>Results for: </div>
                <span id="show"><%= keyword_result %></span>

            </div>

        </div>
		</div>


    <script>

        var span = document.getElementById("show")
        console.log("textContent is :", span.textContent) 
        console.log("length is: ", span.textContent.length)
        if (span.textContent.startsWith("<%= keyword_result %>") && span.textContent.length == 21){
            console.log("inside if")
            span.style.display = "none";
        }
        else{
            console.log("inside else")
            span.innerHTML= span.textContent
            span.style.display = "block";
        }
        //<h3>Please first login to proceed</h3> <form action="/login" method="GET">Username:<br><input type="username" name="username"></br>Password:<br><input type="password" name="password"></br><br><input type="submit" value="Login"></br>
        //<h2>Too many results to dispaly!</h2> <p>Click on this  <form action="/hacker" method="GET">  <input type="submit" value="link"> </form>to dispaly the results in a new page!</p>
    </script>



</body>

</html>